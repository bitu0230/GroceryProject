<div class="container">
    <div class="row mt-3 form-image-container">
        <div class="col-md-7">
            <img src="https://img.freepik.com/free-vector/upgrade-concept-illustration_114360-5231.jpg?w=740&t=st=1695634284~exp=1695634884~hmac=f9fdec59a2a1ba43252bc3ef59b79591d20fbd2b0e943c333e3bb7461b2d0ef8"alt="" />
        </div>
        <div class="col-md-5 shadow">
            <div class="card ">
                <div class="card-header text-center  text-white pt-3">
                    <h3>Update Product</h3>
                </div>
                <div class="card-body">
                    <form [formGroup]="productForm" (ngSubmit)="onSubmit(product)">
                        <div class="mb-3">
                            <label class="col-form-label">Product Name</label>
                            <input type="text" class="form-control" formControlName="productName" [ngClass]="{
                  error:
                    (submitted || f['productName'].touched) &&
                    getControl('productName').errors
                }" />
                            <div *ngIf="(submitted || f['productName'].touched) && f['productName'].errors"
                                class="text-danger small">
                                <span *ngIf="f['productName'].errors?.['required']">First Name is required</span>
                                <span *ngIf="f['productName'].errors?.['minlength']">First Name should atleast 3
                                    characters</span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="col-form-label">Description</label>
                            <input type="text" class="form-control" formControlName="description" [ngClass]="{
                  error:
                    (submitted || f['description'].touched) &&
                    getControl('description').errors
                }" />
                            <div *ngIf="(submitted || f['description'].touched) && f['description'].errors"
                                class="text-danger small">
                                <span *ngIf="f['description'].errors?.['required']">Description is required</span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="col-form-label">Unit Price</label>
                            <input type="text" class="form-control" formControlName="unitPrice" [ngClass]="{
                  error:
                    (submitted || getControl('unitPrice').touched) &&
                    getControl('unitPrice').errors
                }" />
                            <div *ngIf="(submitted || f['unitPrice'].touched) && f['unitPrice'].errors"
                                class="text-danger small">
                                <span *ngIf="f['unitPrice'].errors?.['required']">Unit Price is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="col-form-label">Units In Stock</label>
                            <input type="text" class="form-control" formControlName="unitsInStock" [ngClass]="{
                    error:
                      (submitted || getControl('unitsInStock').touched) &&
                      getControl('unitsInStock').errors
                  }" />
                            <div *ngIf="(submitted || f['unitsInStock'].touched) && f['unitsInStock'].errors"
                                class="text-danger small">
                                <span *ngIf="f['unitsInStock'].errors?.['required']">Units In Stock is required</span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="col-form-label">Discontinued</label>
                            <select class="form-select" formControlName="discontinued" [ngClass]="{
                error:
                  (submitted || getControl('discontinued').touched) &&
                  getControl('discontinued').errors
              }">
                                <option value="true">True</option>
                                <option value="false">False</option>

                            </select>
                            <div *ngIf="(submitted || getControl('discontinued').touched) && f['discontinued'].errors"
                                class="text-danger small">
                                <span *ngIf="f['discontinued'].errors?.['required']">discontinued is required</span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="col-form-label">CategoryName</label>
                            <select class="form-select" formControlName="categoryId" [ngClass]="{
                  error:
                    (submitted || getControl('categoryId').touched) &&
                    getControl('categoryId').errors
                }">
                                <option *ngFor="let cat of categories" value="{{cat.categoryId}}">{{cat.categoryName}}
                                </option>


                            </select>
                            <div *ngIf="(submitted || getControl('categoryId').touched) && f['categoryId'].errors"
                                class="text-danger small">
                                <span *ngIf="f['categoryId'].errors?.['required']">discontinued is required</span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="col-form-label">Product Image</label>
                            <input type="text" class="form-control" formControlName="productImage" [ngClass]="{
                    error:
                      (submitted || getControl('productImage').touched) &&
                      getControl('productImage').errors
                  }" />
                            <div *ngIf="(submitted || f['productImage'].touched) && f['productImage'].errors"
                                class="text-danger small">
                                <span *ngIf="f['productImage'].errors?.['required']">Product Image is required</span>

                            </div>
                        </div>


                        <div class="mt-2">
                            <button class="btn btn-success" type="submit">Update Product</button>
                        </div>

                        <span *ngIf="isSubmitted" class="text-success">Successfully Updated!!</span>
                    </form>
                </div>
            </div>
        </div>
  
    </div>
</div>